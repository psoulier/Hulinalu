@(lat: Float)(lng: Float)

@import helper._

@import models.LocationDB
@import models.Location
@import models.Feature

@displayUpdateInput(feature: Feature) = {

}

@displayUpdateLocation(loc: Location) = {
  <h2>You Are Here:</h2>
  <h3>"@loc.getName"</h3>
  <p>@loc.getLatitude, @loc.getLongitude</p>

  <div class="list-group">
    @if(loc.hasFeaturesToUpdate()) {
      <div class="list-group-item"> 
        @displayUpdateInput( loc.getNextConditionToUpdate() )
      </div>
    }
    <!--
    <div class="list-group-item">
        <table width="100%">
          <tr>
            <td width="25%">Crowd:</td> <td width="25%">Small</td> <td width="50%"><div></div></td>
          </tr>
        </table>
    </div>
    -->
  </div>
}

@displaySuggestLocation() = {
  <p>
  You're not currently around any known beaches or surf spots. Sign in to 
  suggest a <em><a href"#">new beach</a></em> location or to see your <em><a href="#">secret beaches</a></em>.
  </p>
}

@if(LocationDB.isUserInProximity(lat, lng)) {
  @displayUpdateLocation( LocationDB.getClosestLocation(lat, lng) )
} else {
  @displaySuggestLocation()
}

